Judge EOF or not
Arrange to devide function



